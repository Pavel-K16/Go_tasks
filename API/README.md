# Документация к программе main.go 
### Data Base
Данный сервис взаимодействует с базой данных `postgres`. Для начала работы необходимо создать базу данных или успользовать установленную по умолчанию. Далее текущей базе данных необходимо создать две таблицы (сущности), которые соотвествуют условию данного задания. 
#### Таблица содержащая информацию о товарах должна строго называться `product`, а таблица содержащую информацию о категориях товаров должна строго называться `productcaregory`.
### DSN
Чтобы подключиться к созданной БД необходимо использовать строку подключения `dsn`. 

Для создания `dsn` необходимо прейти в папку `env`, лежащую в проекте, а затем зайти в файл `dsn.env`:  
```
API/env/dsn.env 
```     
Файл `dsn.env` выглядит следующим образом:
```
SERV=":8080"

HOST="localhost"

USER="pavel"

PASS="55544"

DBNAME="shop"

PORT="5432"

SSL="disable"
```
- `SERV` -- порт, на котором будет запускаться и работать сервис. 
- `HOST` -- `IP` адрес вашего сервера, на котором будет "подниматься" данный сервис. В случае выше `localhost` идетифицирует адрес вашей локальной машины. То есть Ваш же компьютер и сервер, и клиент.  
- `USER` -- имя пользователя, с которого Вы подключаетесь к БД. 
- `PASS` -- пароль для подключения к БД.
- `DBNAME` -- имя БД, к которой Вы хотите подключиться.
- `PORT` -- порт, на котором будет работать БД `postgres`.
- `SSL` -- тип подключения к БД.

Выше приведён пример содержания файла `dsn.env` для подключения к БД с моими параметрами. У Вас эти параметры могут быть другими.

#### Для корректной работы программы важно верно заполнить файл `dsn.env` правильными для подключения параметрами. Иначе программа `main.go` выдаст ошибку при подключении к БД и завершит исполнение. 

## Использование API

Данный сервис реализует `GET`, `POST`, `PUT`, `DELETE` запросы. `GET` запрос можно реализовать либо с помощью терминала через `curl` параметры, либо через строку запроса в браузере, остальные запросы только через `curl` параметры. Далее будут показаны возможные запросы, используя данные `dsn` выше. 

#### Данное API реализует следующие `GET` запросы:

- `http://localhost:8080/item/{id}` -- получение информации о продукте из таблицы `product`, где `{id}` -- уникальный номер продукта. Идентичный запрос через curl параметры с использованием терминала `curl http://localhost:8080/item/{id}`. 
-  `http://localhost:8080/category` -- получение информации о всех категориях продуктов из таблицы `productсategory`.
-  `http://localhost:8080/item` -- получение информации о всех продуктах из таблицы `product`.

#### 